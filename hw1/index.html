<!DOCTYPE html>
<html lang="en-us">
<head> 
    <title> Registration Page</title>

    <meta charset="UTF-8">
    <meta name="author" content="Jiwei Ye">
    <meta name="keywords" content="HTML, JavaScript">
    <meta name="description" content="Registration Page">
</head>

<body onload="getTimeStamp()">
    <h1>Registration Form</h1>
    <form method=("GET") action=formProcessor.html id="myForm">
        <p><B>Account Name:</B><em>only upper or lower case letters and numbers; starts with a letter</em></p>
        <input type="text" name="accountName" placeholder="Type in your account name" pattern="[A-Za-z][A-Za-z0-9]*" required>

        <p><B>Display Name(optional):</B><em>only upper or lower case letters and numbers; starts with a letter</em></p>
        <input type="text" name="displayName" placeholder="Type in your display name" pattern="[A-Za-z][A-Za-z0-9]*" >

        <p><B>Email Address:</B></p>
        <input type="text" name="emailAddress" placeholder="Type in your email address" pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,3}$" required>

        <p><B>Phone Number:</B><em>###-###-####</em></p>
        <input type="text" name="phoneNumber" placeholder="Type in your phone number" pattern="\d\d\d-\d\d\d-\d\d\d\d" required>

        <p><B>Date of Birth:</B></p>
        <input type="date" name="dateOfBirth" placeholder="Type in your date of birth" format="mm/dd/yyyy" id="idDateofBirth">

        <p><B>Zipcode:</B><em>##### or #####-####</p>
        <input type="text" name="zipcode" placeholder="Type in your zipcode" pattern="(\d{5}([\-]\d{4})?)" required>

        <p><B>Password:</B></p>
        <input type="password" name="password" placeholder="Type in your password" required>

        <p><B>Password Confirmation:</B></p>
        <input type="password" name="passwordConfirmation" placeholder="Type in your password again" required><br></br>


        <input type="hidden" name="timeStamp" id="idTimeStamp"> 
        <input type="submit" value="Submit" onclick="return check()">
        <input type="reset" value="Clear">

    </form>
</body>
<script type="text/javascript">
function getTimeStamp(){
    document.getElementById("idTimeStamp").value = new Date();
}

function check(){
    var pwd1=document.getElementsByName("password")[0].value;
    var pwd2=document.getElementsByName("passwordConfirmation")[0].value;
    var birthdate=new Date(document.getElementById("idDateofBirth").value);
    var presentdate=new Date();
    var yeardiff=presentdate.getFullYear()-birthdate.getFullYear();
    var monthdiff=presentdate.getMonth()-birthdate.getMonth();
    var daydiff=presentdate.getDate()-birthdate.getDate();
    if(pwd2!=pwd1){
        alert("two passwords are not the same!");
        return false;
    }
    else if(!(yeardiff>18||yeardiff==18&&monthdiff>0||yeardiff==18&&monthdiff==0&&daydiff>=0)){
        alert("you have to be 18 years old or older to register");
        return false;  
    }
    else
        return true;
}
</script>
</html>